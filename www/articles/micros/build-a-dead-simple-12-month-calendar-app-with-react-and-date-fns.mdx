---
title:  Build a Dead Simple 12 Month Calendar App with React and Date-Fns
type: Article
datePublished: 09/05/2023
lastUpdated: 09/13/2023
description: This guide will walk you through the steps to build a calendar application using React, Vite, and the date-fns library. The application displays a month view of a calendar where you can navigate between months.
slug: build-a-dead-simple-12-month-calendar-app-with-react-and-date-fns
category: micros
dependencies: [React, JavaScript, date-fns]
---

Welcome to this step-by-step guide on creating a calendar application using React and the date-fns library. By the end of this tutorial, you'll have a user-friendly application that allows effortless navigation between months on a monthly calendar view.

## Prerequisites

Ensure you have:

- Node.js and npm installed on your machine.
- Basic understanding of React.

## 1. Initialize a Vite Project

For ease of setup, initiate a new Vite project based on the React template. _Note: Feel free to skip this step if you already have an existing React project._

```shell
npx create-vite@latest my-calendar-app --template react
```

Navigate to the project directory.

```shell
cd my-calendar-app
```

## 2. Install date-fns

To simplify date manipulation in your Calendar application, install the `date-fns` package. This open-source utility library provides convenient features out-of-the-box that make the development and maintaince of Calendar interfaces easier.

```shell
npm install date-fns
```

<CH.Scrollycoding>

## 3. Display Current Month's Dates

One straightforward way to begin, is to display the dates of the current month. 

To do this, you can use the `eachDayOfInterval` function to generate an array of dates for the current month. The `startOfMonth` and `endOfMonth` functions are used to find the first and last days of the month, respectively.

```jsx App.js
import React, { useEffect, useState } from 'react';
import { eachDayOfInterval, startOfMonth, endOfMonth } from 'date-fns';

const App = () => {
  const [dates, setDates] = useState([]);

  useEffect(() => {
    // Get current date
    const now = new Date();
    
    // Find first day of the month
    const start = startOfMonth(now);

    // Find last day of the month
    const end = endOfMonth(now);

    // Get array of dates for current month
    const dateArray = eachDayOfInterval({ start, end });

    setDates(dateArray);
  }, []);

  return (
    <div>
      {dates.map((date, index) => (
        <p key={index}>{date.toString()}</p>
      ))}
    </div>
  );
};

export default App;
```

The next sub sections will walk you through a technical breakdown of the code above.

---

### 3.2. Declare State Variable for Dates

We declare a state variable dates that will hold an array of date objects. This is initialized as an empty array, because we don't have any dates to display yet. 

```jsx App.js focus=5
```

---

### 3.3. Utilize useEffect Hook to Run Logic on Mount
Using the `useEffect` hook, we implement logic that runs when the component mounts. For this instance, this involves obtaining the current date and calculating the first and last dates of the current month.

> Note: The second argument of the `useEffect` hook is an empty array. This ensures that the logic is only run once, when the component mounts.

```jsx App.js focus=7,21
```

---

### 3.4. Generate Date Array for Current Month

Within the `useEffect` hook, we generate an array of dates for the current month using functions from the `date-fns` library.

- The `eachDayOfInterval` function is employed to generate an array containing all the dates of the current month. 
- The `start` and `end` dates are supplied as an object argument.

```jsx App.js focus=8:18
```

---

### 3.5. Update State Variable with Dates

Now that we have an array of dates, we can update the state variable `dates` with the array of dates generated in the previous step. This will trigger a re-render of the component, allowing us to display the dates in the next step.

```jsx App.js focus=5,20
```

---

### 3.6. Display Dates

Here we're taking advantage of the rerender with a few native JavaScript functions. The `dates` array is mapped over and each date is displayed in a paragraph element. 

```jsx App.js focus=24:28
```

---

## 4. Collect Dates for Calendar Grid

There are plenty of use-cases for displaying dates in a list, but a calendar is not one of them.

To create a more functional calendar, you'll need to fit the dates into a grid. Typically, this grid is a 7x5 or 7x6 matrix, depending on the month. Here's how to generate such a grid using React and `date-fns`.


<CH.Code>

```jsx App.js
import React, { useEffect, useState } from 'react';
import { 
  eachDayOfInterval, 
  startOfMonth, 
  endOfMonth, 
  startOfWeek, 
  endOfWeek, 
  format 
} from 'date-fns';
import './App.css';

const App = () => {
  const [dates, setDates] = useState([]);

  useEffect(() => {
    // Get current date
    const now = new Date();

    // Find the first day of the current month
    const firstDayOfMonth = startOfMonth(now);

    // Find the first day of the week for the first day of the month
    const start = startOfWeek(firstDayOfMonth);

    // Find the last day of the current month
    const lastDayOfMonth = endOfMonth(now);

    // Find the last day of the week for the last day of the month
    const end = endOfWeek(lastDayOfMonth);

    // Get array of dates for current month
    // including some dates from previous and next month
    const dateArray = eachDayOfInterval({ start, end });

    setDates(dateArray);
  }, []);

  return (
   <div className="grid">
      {dates.map((date, index) => (
        <div key={index}>
          {format(date, 'd')}
        </div>
      ))}
    </div>
  );
};

export default App;
```

```css App.css
.grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
}

.grid > div {
  border: 1px solid #ccc;
  padding: 0.5rem;
}
```

</CH.Code>

--- 

### 4.1. Understand Key Functions

Before diving into the code, let's understand the `date-fns` functions that can help us. Each of these functions are documented in the [date-fns documentation](https://date-fns.org/docs/Getting-Started) if you'd like to learn more.

- `startOfWeek` and `endOfWeek`: Determine the first and last days of the week.
- `format`: Formats a date into a string.

```jsx App.js focus=6:8
```

---

### 4.2. Adjust useEffect Logic

In the `useEffect` hook, we adapt our logic to consider not just the _month_ but also the _week_ in which the month starts and ends.

```jsx App.js focus=19:29
```

let's break down what each line of code accomplishes:

---

### 4.2.1. Find the first day of the current month

This line finds the first day of the current month using the `startOfMonth` function from the `date-fns` library. The argument now is assumed to be first day of the month. _i.e. January 1st_

```jsx App.js focus=19:20
```

---

### 4.2.2. Find the first day of the week for the first day of the month

There are plenty of instances where the first of the month does not fall on the first day of the week. For instance, **if the first of the month is a Wednesday, the first day of the week will be the preceding Sunday. This needs to be taken into account when generating a calendar grid.**


This line identifies the first day of the week that contains the first day of the month. 

```jsx App.js focus=22:23
```

---

### 4.2.3. Find the last day of the current month

Similar to the first line, this one determines the last day of the current month using endOfMonth. Again, now represents the current date. _i.e. January 31st_

```jsx App.js focus=25:26
```

---

### 4.2.4. Find the last day of the week for the last day of the month

This line establishes the last day of the week that contains the last day of the month. Just as the start variable helps in beginning the calendar grid, end helps in concluding it appropriately. For instance, if a month ends on a Thursday, end will be set to the Saturday of that week.

```jsx App.js focus=28:29
```


---

### 4.2.5. Summarizing the modified `useEffect` Logic

This code prepares the start and end boundaries for a calendar month, taking into account partial weeks at the beginning and end of the month. This is essential for rendering a complete and accurate calendar grid.

```jsx App.js focus=19:29
```

---

### 4.3. Style the Calendar Grid

Now that we have the dates for the current month, we can display them in a grid. There are many ways to do this, but we'll use a CSS grid for this example.

```css App.css
```

---

### 4.3.1. Import the CSS File

After creating the CSS file, we need to import it into our `App.js` file. This will allow us to use the CSS classes in the file.

```jsx App.js focus=10
```

---

### 4.3.2. Don't forget to add the CSS classes to the HTML

After creating the CSS file, we need to import it into our `App.js` file. This will allow us to use the CSS classes in the file.

```jsx App.js focus=39
```

---

### 4.4. Modify the Date Display

The `format` function is used to format the date into a string. The first argument is the date object, and the second argument is the format string. In this case, the format string `'d'` is used to display the day of the month as a number.

```jsx App.js focus=42
```

---

## 5. Let's add a heading that displays the current date

In this code, I've added a `currentMonth` state variable and set its value to the current month and year when the component mounts. The `format` function is used with the format string `'MMMM yyyy'`, which will output the full name of the month followed by the four-digit year (for example, "September 2023").

I've also added a `<h1>` element above the grid that displays the `currentMonth`. The Tailwind CSS classes `text-center text-lg font-bold mb-4` are used to style this heading.

```jsx App.js focus=14,20:21,43:44,52
import React, { useEffect, useState } from 'react';
import { 
  eachDayOfInterval, 
  startOfMonth, 
  endOfMonth, 
  startOfWeek, 
  endOfWeek, 
  format 
} from 'date-fns';
import './App.css';

const App = () => {
  const [dates, setDates] = useState([]);
  const [currentMonth, setCurrentMonth] = useState('');

  useEffect(() => {
    // Get current date
    const now = new Date();

    // Set current month
    setCurrentMonth(format(now, 'MMMM yyyy'));

    // Find the first day of the current month
    const firstDayOfMonth = startOfMonth(now);

    // Find the first day of the week for the first day of the month
    const start = startOfWeek(firstDayOfMonth);

    // Find the last day of the current month
    const lastDayOfMonth = endOfMonth(now);

    // Find the last day of the week for the last day of the month
    const end = endOfWeek(lastDayOfMonth);   

    // Get array of dates for current month
    // including some dates from previous and next month
    const dateArray = eachDayOfInterval({ start, end });

    setDates(dateArray);
  }, []);

  return (
    <div>
      <h1>{currentMonth}</h1>
      <div className="grid">
        {dates.map((date, index) => (
          <div key={index}>
            {format(date, 'd')}
          </div>
        ))}
      </div>
    </div>
  );
};

export default App;
```

--- 


## 6. Lets add the next month / previous month buttons
1. I've refactored the date generation logic into a separate `generateDates` function, which accepts a date and generates dates for the month of that date.
2. I've added `nextMonth` and `prevMonth` functions that call `setCurrentMonth` with the result of `addMonths` and `subMonths`, respectively. These functions add or subtract one month from the currently displayed month.
3. I've added "Prev" and "Next" buttons that call these functions when clicked.

When you click the buttons, it will change the `currentMonth` state, triggering the `useEffect` hook to regenerate the dates for the new month.
```jsx App.js
import React, { useEffect, useState } from 'react';
import { eachDayOfInterval, startOfMonth, endOfMonth, startOfWeek, endOfWeek, format, addMonths, subMonths } from 'date-fns';

const Calendar = () => {
  const [dates, setDates] = useState([]);
  const [currentMonth, setCurrentMonth] = useState(new Date());

  const generateDates = (date) => {
    const start = startOfWeek(startOfMonth(date)); // Find first day of the month, then go to the start of that week
    const end = endOfWeek(endOfMonth(date)); // Find last day of the month, then go to the end of that week

    // Get array of dates for current month, including some dates from previous and next month
    const dateArray = eachDayOfInterval({ start, end });

    setDates(dateArray);
  }

  useEffect(() => {
    generateDates(currentMonth);
  }, [currentMonth]);

  const nextMonth = () => setCurrentMonth(addMonths(currentMonth, 1));
  const prevMonth = () => setCurrentMonth(subMonths(currentMonth, 1));

  return (
    <div className='max-w-5xl mx-auto'>
      <div className='flex justify-between items-center py-6'>
        <button className='btn btn-primary' onClick={prevMonth}>Prev</button>
        <h1 className="text-center text-lg font-bold">{format(currentMonth, 'MMMM yyyy')}</h1>
        <button className='btn btn-primary' onClick={nextMonth}>Next</button>
      </div>
      <div className="grid grid-cols-7 gap-2">
        {dates.map((date, index) => (
          <div key={index} className="border border-gray-300 p-2">
            {format(date, 'd')}
          </div>
        ))}
      </div>
    </div>
  );
};

export default Calendar;
```

</CH.Scrollycoding>
